(()=>{var e={};e.id=893,e.ids=[893],e.modules={7849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},5403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},4749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},9905:(e,a,t)=>{"use strict";t.r(a),t.d(a,{GlobalError:()=>n.a,__next_app__:()=>m,originalPathname:()=>u,pages:()=>c,routeModule:()=>g,tree:()=>o}),t(5327),t(1545),t(1930),t(2523);var s=t(3191),r=t(8716),i=t(7922),n=t.n(i),l=t(5231),d={};for(let e in l)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(d[e]=()=>l[e]);t.d(a,d);let o=["",{children:["dashboard",{children:["management",{children:["products",{children:["edit",{children:["[slug]",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(t.bind(t,5327)),"D:\\1Programming Area\\Website\\Seni Indah Deployment\\Seni Indah Gypsum\\src\\app\\dashboard\\management\\products\\edit\\[slug]\\page.tsx"]}]},{}]},{}]},{}]},{}]},{}]},{layout:[()=>Promise.resolve().then(t.bind(t,1545)),"D:\\1Programming Area\\Website\\Seni Indah Deployment\\Seni Indah Gypsum\\src\\app\\layout.tsx"],loading:[()=>Promise.resolve().then(t.bind(t,1930)),"D:\\1Programming Area\\Website\\Seni Indah Deployment\\Seni Indah Gypsum\\src\\app\\loading.tsx"],"not-found":[()=>Promise.resolve().then(t.bind(t,2523)),"D:\\1Programming Area\\Website\\Seni Indah Deployment\\Seni Indah Gypsum\\src\\app\\not-found.tsx"]}],c=["D:\\1Programming Area\\Website\\Seni Indah Deployment\\Seni Indah Gypsum\\src\\app\\dashboard\\management\\products\\edit\\[slug]\\page.tsx"],u="/dashboard/management/products/edit/[slug]/page",m={require:t,loadChunk:()=>Promise.resolve()},g=new s.AppPageRouteModule({definition:{kind:r.x.APP_PAGE,page:"/dashboard/management/products/edit/[slug]/page",pathname:"/dashboard/management/products/edit/[slug]",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:o}})},2376:(e,a,t)=>{Promise.resolve().then(t.bind(t,3474))},2714:(e,a,t)=>{"use strict";t.d(a,{Z:()=>s});/**
 * @license lucide-react v0.445.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let s=(0,t(2881).Z)("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]])},6283:(e,a,t)=>{"use strict";t.d(a,{Z:()=>s});/**
 * @license lucide-react v0.445.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let s=(0,t(2881).Z)("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]])},8705:(e,a,t)=>{"use strict";t.d(a,{Z:()=>s});/**
 * @license lucide-react v0.445.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let s=(0,t(2881).Z)("Package",[["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]])},2685:(e,a,t)=>{"use strict";t.d(a,{Z:()=>s});/**
 * @license lucide-react v0.445.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let s=(0,t(2881).Z)("PenLine",[["path",{d:"M12 20h9",key:"t2du7b"}],["path",{d:"M16.376 3.622a1 1 0 0 1 3.002 3.002L7.368 18.635a2 2 0 0 1-.855.506l-2.872.838a.5.5 0 0 1-.62-.62l.838-2.872a2 2 0 0 1 .506-.854z",key:"1ykcvy"}]])},1572:(e,a,t)=>{"use strict";t.d(a,{Z:()=>s});/**
 * @license lucide-react v0.445.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let s=(0,t(2881).Z)("Sparkles",[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]])},3474:(e,a,t)=>{"use strict";t.r(a),t.d(a,{default:()=>C});var s=t(326),r=t(7577),i=t(9686),n=t(3058),l=t(2273),d=t(59),o=t(434),c=t(5047),u=t(949),m=t(7506),g=t(8705),p=t(6333),x=t(2685),h=t(1291);/**
 * @license lucide-react v0.445.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let b=(0,t(2881).Z)("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);var f=t(1215),y=t(8091),j=t(2933),k=t(8019),N=t(6283),v=t(1709),w=t(1572),_=t(2714),S=t(6105);let P=({isOpen:e,onClose:a,onConfirm:t,title:i,message:n,requiredSlug:l,type:d="warning"})=>{let[o,c]=(0,r.useState)(""),[m,g]=(0,r.useState)(!1);return((0,r.useEffect)(()=>{g(o===l)},[o,l]),(0,r.useEffect)(()=>{e&&(c(""),g(!1))},[e]),e)?s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:(0,s.jsxs)("div",{className:"bg-white rounded-lg max-w-md w-full p-6",children:[(0,s.jsxs)("div",{className:"flex items-center mb-4",children:[s.jsx(u.Z,{className:`w-6 h-6 mr-3 ${"danger"===d?"text-red-600":"text-yellow-600"}`}),s.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:i})]}),s.jsx("p",{className:"text-gray-600 mb-4",children:n}),(0,s.jsxs)("div",{className:"mb-4",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Ketik slug produk untuk konfirmasi:"}),(0,s.jsxs)("div",{className:"space-y-2",children:[s.jsx("div",{className:"p-2 bg-gray-100 rounded border text-sm font-mono text-gray-800",children:l}),s.jsx("input",{type:"text",value:o,onChange:e=>c(e.target.value),className:`w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 ${o&&!m?"border-red-300 focus:ring-red-500":"border-gray-300 focus:ring-blue-500"}`,placeholder:"Masukkan slug di atas",autoFocus:!0}),o&&!m&&s.jsx("p",{className:"text-sm text-red-600",children:"Slug tidak sesuai"})]})]}),(0,s.jsxs)("div",{className:"flex space-x-3",children:[s.jsx("button",{onClick:()=>{m&&(t(o),c(""))},disabled:!m,className:`flex-1 px-4 py-2 rounded-lg font-medium ${m?"danger"===d?"bg-red-600 text-white hover:bg-red-700":"bg-yellow-600 text-white hover:bg-yellow-700":"bg-gray-300 text-gray-500 cursor-not-allowed"}`,children:"Konfirmasi"}),s.jsx("button",{onClick:a,className:"flex-1 px-4 py-2 bg-gray-200 text-gray-800 rounded-lg font-medium hover:bg-gray-300",children:"Batal"})]})]})}):null},Z=({isOpen:e,onClose:a,onConfirm:t})=>e?s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:(0,s.jsxs)("div",{className:"bg-white rounded-lg max-w-md w-full p-6",children:[(0,s.jsxs)("div",{className:"flex items-center mb-4",children:[s.jsx(u.Z,{className:"w-6 h-6 mr-3 text-red-600"}),s.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Hapus Primary Image?"})]}),(0,s.jsxs)("div",{className:"mb-6",children:[(0,s.jsxs)("p",{className:"text-gray-600 mb-3",children:["Anda akan menghapus ",s.jsx("strong",{children:"primary image"})," (gambar utama) produk ini."]}),s.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-3",children:(0,s.jsxs)("p",{className:"text-sm text-red-700",children:[s.jsx("strong",{children:"Peringatan:"})," Primary image wajib ada untuk setiap produk. Jika Anda menghapus gambar ini, Anda harus mengupload gambar baru di posisi 1 sebelum dapat menyimpan produk."]})})]}),(0,s.jsxs)("div",{className:"flex space-x-3",children:[s.jsx("button",{onClick:t,className:"flex-1 px-4 py-2 bg-red-600 text-white rounded-lg font-medium hover:bg-red-700",children:"Ya, Hapus"}),s.jsx("button",{onClick:a,className:"flex-1 px-4 py-2 bg-gray-200 text-gray-800 rounded-lg font-medium hover:bg-gray-300",children:"Batal"})]})]})}):null,C=({params:e})=>{let{user:a}=(0,i.E)(),t=(0,c.useRouter)(),[C,D]=(0,r.useState)(null),[M,G]=(0,r.useState)([]),[A,q]=(0,r.useState)(!0),[E,$]=(0,r.useState)(!1),[T,I]=(0,r.useState)(""),[F,H]=(0,r.useState)(""),[O,R]=(0,r.useState)({title:"",description:"",benefits:"",price_regular:"",price_discount:"",category_id:"",sku:"",brand:"",weight:"",dimensions:"",meta_title:"",meta_description:"",stock_status:"in_stock",is_featured:!1});(0,r.useEffect)(()=>{a?.email,O.title&&(document.title=`${O.title} | ${a?.email}`)},[a?.email,O.title]);let[K,z]=(0,r.useState)(Array(10).fill(null)),[B,L]=(0,r.useState)(Array(10).fill(null)),[U,W]=(0,r.useState)([]),[J,V]=(0,r.useState)(!1),[X,Y]=(0,r.useState)(!1),[Q,ee]=(0,r.useState)(!1),[ea,et]=(0,r.useState)(!1),[es,er]=(0,r.useState)(""),ei=()=>null!==B[0],en=e=>0===e&&null!==B[0],el=()=>{if(!C)return!1;let e=O.title!==C.title||O.description!==(C.description||"")||O.benefits!==(C.benefits||"")||O.price_regular!==C.price_regular.toString()||O.price_discount!==(C.price_discount?.toString()||"")||O.category_id!==C.category_id.toString()||O.sku!==(C.sku||"")||O.brand!==(C.brand||"")||O.weight!==(C.weight?.toString()||"")||O.dimensions!==(C.dimensions||"")||O.meta_title!==(C.meta_title||"")||O.meta_description!==(C.meta_description||"")||O.stock_status!==C.stock_status||O.is_featured!==C.is_featured,a=U.length>0;return e||a},ed=(e,a)=>{let t=parseFloat(e),s=parseFloat(a);return a&&!isNaN(t)&&!isNaN(s)&&s>=t?(er("Harga diskon harus lebih kecil dari harga regular"),!1):(er(""),!0)},eo=async()=>{try{q(!0);let a=await (0,S.sg)("/v1.0/admin/product/get",{slug:e.slug});if(!a.success)throw Error("string"==typeof a.data?a.data:"Failed to load product");let t=await (0,S.sg)("/v1.0/admin/product/get-by-id",{id:a.data.id});if(t.success){let e=t.data.product;D(e),G(t.data.categories),R({title:e.title||"",description:e.description||"",benefits:e.benefits||"",price_regular:e.price_regular?.toString()||"",price_discount:e.price_discount?.toString()||"",category_id:e.category_id?.toString()||"",sku:e.sku||"",brand:e.brand||"",weight:e.weight?.toString()||"",dimensions:e.dimensions||"",meta_title:e.meta_title||"",meta_description:e.meta_description||"",stock_status:e.stock_status||"in_stock",is_featured:e.is_featured||!1});let a=[];for(let t=1;t<=10;t++){let s=`image_url_${t}`;a.push(e[s]||null)}z([...a]),L([...a]),W([]),V(!1)}else throw Error("string"==typeof t.data?t.data:"Failed to load product")}catch(e){e instanceof S.MS?I(e.message):I(e instanceof Error?e.message:"Failed to load product")}finally{q(!1)}},ec=(e,a)=>{R(t=>({...t,[e]:a})),("price_regular"===e||"price_discount"===e)&&ed("price_regular"===e?a:O.price_regular,"price_discount"===e?a:O.price_discount),setTimeout(()=>{V(el())},0)},eu=(e,a)=>{let t=new FileReader;t.onload=t=>{let s=t.target?.result;L(a=>{let t=[...a];return t[e]=s,t}),W(t=>[...t.filter(a=>a.index!==e),{action:"upload",index:e,file:a,preview:s}]),V(!0)},t.readAsDataURL(a)},em=e=>{L(a=>{let t=[...a];return t[e]=null,t}),W(a=>{let t=a.filter(a=>a.index!==e);return K[e]?[...t,{action:"delete",index:e}]:t}),V(!0)},eg=e=>{if(en(e)){et(!0);return}em(e)},ep=()=>{L([...K]),W([]),V(el())},ex=async e=>{try{if($(!0),!ed(O.price_regular,O.price_discount)){I("Perbaiki error harga sebelum menyimpan"),$(!1);return}if(!ei()){I("Primary image (Gambar 1) wajib diisi sebelum menyimpan produk"),$(!1);return}let a=new FormData;a.append("id",C.id.toString()),a.append("title",O.title),a.append("description",O.description),a.append("benefits",O.benefits),a.append("price_regular",O.price_regular),a.append("price_discount",O.price_discount),a.append("category_id",O.category_id),a.append("sku",O.sku),a.append("brand",O.brand),a.append("weight",O.weight),a.append("dimensions",O.dimensions),a.append("meta_title",O.meta_title),a.append("meta_description",O.meta_description),a.append("stock_status",O.stock_status),a.append("is_featured",O.is_featured.toString()),a.append("confirm_slug",e),U.forEach(e=>{"delete"===e.action&&a.append(`delete_image_${e.index+1}`,"true")}),U.forEach(e=>{"upload"===e.action&&e.file&&a.append(`image_${e.index+1}`,e.file)});let t=U.length>0?"/v1.0/admin/product/update-batch":"/v1.0/admin/product/update",s=await (0,S.U8)(t,a);s.success?(H("Produk berhasil diupdate"),I(""),Y(!1),W([]),V(!1),s.data.summary&&(s.data.summary.images_uploaded>0&&H(`Produk berhasil diupdate dengan ${s.data.summary.images_uploaded} gambar baru`),s.data.summary.errors&&s.data.summary.errors.length),await eo()):s.data&&"object"==typeof s.data&&s.data.confirmation_required?I(s.data.message||"Konfirmasi diperlukan"):I(s.data||"Update failed")}catch(e){e instanceof S.MS?I(e.message):I(e instanceof Error?e.message:"Save failed")}finally{$(!1)}},eh=async e=>{try{let a=await (0,S.sg)("/v1.0/admin/product/delete",{id:C.id,confirm_slug:e});a.success?(H("Produk berhasil dihapus"),setTimeout(()=>{t.push("/dashboard/management/products")},1500)):I(a.data||"Delete failed")}catch(e){e instanceof S.MS?I(e.message):I(e instanceof Error?e.message:"Delete failed")}};return((0,r.useEffect)(()=>{eo()},[e.slug]),(0,r.useEffect)(()=>{if(F){let e=setTimeout(()=>H(""),3e3);return()=>clearTimeout(e)}},[F]),(0,r.useEffect)(()=>{if(T){let e=setTimeout(()=>I(""),5e3);return()=>clearTimeout(e)}},[T]),(0,r.useEffect)(()=>{V(el())},[O,U,C]),A)?s.jsx(n.Z,{requiredRole:"moderator",children:s.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:(0,s.jsxs)("div",{className:"text-center",children:[s.jsx(m.Z,{className:"w-8 h-8 animate-spin text-blue-600 mx-auto mb-4"}),s.jsx("p",{className:"text-gray-600",children:"Memuat data produk..."})]})})}):C?s.jsx(n.Z,{requiredRole:"moderator",children:s.jsx("div",{className:"min-h-screen bg-gray-50 py-4 lg:py-8",children:(0,s.jsxs)("div",{className:"max-w-5xl mx-auto px-4",children:[(0,s.jsxs)("div",{className:"mb-6",children:[s.jsx("div",{className:"flex items-center mb-4",children:(0,s.jsxs)(o.default,{href:"/dashboard/management/products",className:"flex items-center text-gray-600 hover:text-gray-900 transition-colors",children:[s.jsx(p.Z,{className:"w-4 h-4 mr-1"}),s.jsx("span",{className:"text-sm",children:"Kembali ke Daftar Produk"})]})}),s.jsx("div",{className:"bg-white rounded-lg shadow-md p-4 lg:p-6",children:(0,s.jsxs)("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-4",children:[(0,s.jsxs)("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"w-10 h-10 lg:w-12 lg:h-12 bg-gradient-to-br from-green-500 to-blue-600 rounded-full flex items-center justify-center",children:s.jsx(x.Z,{className:"w-5 h-5 lg:w-6 lg:h-6 text-white"})}),(0,s.jsxs)("div",{children:[s.jsx("h1",{className:"text-xl lg:text-2xl font-bold text-gray-900",children:"Edit Produk"}),s.jsx("p",{className:"text-sm lg:text-base text-gray-600",children:C.title}),J&&(0,s.jsxs)("span",{className:"inline-flex items-center text-xs text-orange-600 mt-1",children:[s.jsx(h.Z,{className:"w-3 h-3 mr-1"}),"Ada perubahan yang belum disimpan"]})]})]}),(0,s.jsxs)("div",{className:"flex space-x-2",children:[J&&(0,s.jsxs)("button",{onClick:()=>{R({title:C.title||"",description:C.description||"",benefits:C.benefits||"",price_regular:C.price_regular?.toString()||"",price_discount:C.price_discount?.toString()||"",category_id:C.category_id?.toString()||"",sku:C.sku||"",brand:C.brand||"",weight:C.weight?.toString()||"",dimensions:C.dimensions||"",meta_title:C.meta_title||"",meta_description:C.meta_description||"",stock_status:C.stock_status||"in_stock",is_featured:C.is_featured||!1}),ep(),er("")},className:"flex items-center space-x-2 px-3 py-2 bg-gray-600 text-white rounded-lg hover:bg-gray-700 transition-colors",children:[s.jsx(b,{className:"w-4 h-4"}),s.jsx("span",{children:"Reset"})]}),(0,s.jsxs)("button",{onClick:()=>Y(!0),disabled:E||!J||!!es||!ei(),className:"flex items-center space-x-2 px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:[E?s.jsx(m.Z,{className:"w-4 h-4 animate-spin"}):s.jsx(f.Z,{className:"w-4 h-4"}),s.jsx("span",{children:E?"Menyimpan...":"Simpan"})]}),(0,s.jsxs)("button",{onClick:()=>ee(!0),className:"flex items-center space-x-2 px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors",children:[s.jsx(y.Z,{className:"w-4 h-4"}),s.jsx("span",{children:"Hapus"})]})]})]})})]}),T&&(0,s.jsxs)("div",{className:"mb-6 p-4 bg-red-100 border border-red-400 text-red-700 rounded-lg flex items-center",children:[s.jsx(h.Z,{className:"w-5 h-5 mr-2"}),T]}),F&&(0,s.jsxs)("div",{className:"mb-6 p-4 bg-green-100 border border-green-400 text-green-700 rounded-lg flex items-center",children:[s.jsx(j.Z,{className:"w-5 h-5 mr-2"}),F]}),es&&(0,s.jsxs)("div",{className:"mb-6 p-4 bg-yellow-100 border border-yellow-400 text-yellow-700 rounded-lg flex items-center",children:[s.jsx(u.Z,{className:"w-5 h-5 mr-2"}),es]}),!ei()&&(0,s.jsxs)("div",{className:"mb-6 p-4 bg-red-100 border border-red-400 text-red-700 rounded-lg flex items-center",children:[s.jsx(u.Z,{className:"w-5 h-5 mr-2"}),"Primary image (Gambar 1) wajib diisi sebelum produk dapat disimpan"]}),(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsxs)("div",{className:"bg-white rounded-lg shadow-md p-4 lg:p-6",children:[s.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Informasi Dasar"}),(0,s.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4",children:[(0,s.jsxs)("div",{className:"lg:col-span-2",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Nama Produk *"}),s.jsx("input",{type:"text",value:O.title,onChange:e=>ec("title",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Nama produk",required:!0}),O.title!==C.title&&(0,s.jsxs)("div",{className:"mt-1 p-2 bg-blue-50 border border-blue-200 rounded text-sm",children:[s.jsx(k.Z,{className:"w-4 h-4 inline mr-1 text-blue-600"}),(0,s.jsxs)("span",{className:"text-blue-700",children:["Slug baru: ",s.jsx("strong",{children:O.title?O.title.toLowerCase().normalize("NFD").replace(/[\u0300-\u036f]/g,"").replace(/[^a-z0-9\s-]/g,"").replace(/\s+/g,"-").replace(/-+/g,"-").replace(/^-+|-+$/g,""):""})]})]})]}),(0,s.jsxs)("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Harga Regular *"}),s.jsx("input",{type:"number",value:O.price_regular,onChange:e=>ec("price_regular",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"0",required:!0})]}),(0,s.jsxs)("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Harga Diskon"}),s.jsx("input",{type:"number",value:O.price_discount,onChange:e=>ec("price_discount",e.target.value),className:`w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 ${es?"border-red-300 focus:ring-red-500":"border-gray-300 focus:ring-blue-500"}`,placeholder:"0"}),es&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:es})]}),(0,s.jsxs)("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Kategori *"}),(0,s.jsxs)("select",{value:O.category_id,onChange:e=>ec("category_id",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0,children:[s.jsx("option",{value:"",children:"Pilih Kategori"}),M.map(e=>s.jsx("option",{value:e.id,children:e.name},e.id))]})]}),(0,s.jsxs)("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Status Stok"}),(0,s.jsxs)("select",{value:O.stock_status,onChange:e=>ec("stock_status",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:[s.jsx("option",{value:"in_stock",children:"Tersedia"}),s.jsx("option",{value:"out_of_stock",children:"Habis"}),s.jsx("option",{value:"pre_order",children:"Pre-order"})]})]}),(0,s.jsxs)("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"SKU"}),s.jsx("input",{type:"text",value:O.sku,onChange:e=>ec("sku",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"SKU-001"})]}),(0,s.jsxs)("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Brand"}),s.jsx("input",{type:"text",value:O.brand,onChange:e=>ec("brand",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Nama brand"})]}),(0,s.jsxs)("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Berat (kg)"}),s.jsx("input",{type:"number",step:"0.1",value:O.weight,onChange:e=>ec("weight",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"0.0"})]}),(0,s.jsxs)("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Dimensi"}),s.jsx("input",{type:"text",value:O.dimensions,onChange:e=>ec("dimensions",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"100x200x10 cm"})]}),s.jsx("div",{className:"lg:col-span-2",children:(0,s.jsxs)("label",{className:"flex items-center",children:[s.jsx("input",{type:"checkbox",checked:O.is_featured,onChange:e=>ec("is_featured",e.target.checked),className:"rounded border-gray-300 text-blue-600 shadow-sm focus:border-blue-300 focus:ring focus:ring-blue-200 focus:ring-opacity-50"}),s.jsx("span",{className:"ml-2 text-sm text-gray-700",children:"Produk Unggulan"})]})})]})]}),s.jsx(d.Z,{title:"Deskripsi Produk",subtitle:"Tulis deskripsi lengkap produk dengan format yang menarik. Gunakan heading, bullet points, dan styling untuk memudahkan pembacaan.",icon:s.jsx(N.Z,{className:"w-5 h-5 text-blue-600"}),defaultOpen:!1,className:"transition-all duration-300 hover:shadow-lg",headerClassName:"hover:bg-blue-50",children:(0,s.jsxs)("div",{className:"space-y-4",children:[s.jsx("div",{className:"border border-gray-200 rounded-lg overflow-hidden",children:s.jsx(l.Z,{id:"description-editor",value:O.description,onChange:e=>ec("description",e),height:400,placeholder:"Tulis deskripsi lengkap produk... Gunakan toolbar untuk formatting text, menambah gambar, tabel, dan lainnya."})}),O.description&&(0,s.jsxs)("div",{className:"flex items-center justify-between text-xs text-gray-500",children:[(0,s.jsxs)("span",{children:[O.description.replace(/<[^>]*>/g,"").length," karakter"]}),s.jsx("span",{className:"text-blue-600",children:O.description!==(C?.description||"")?"• Diubah":"• Tersimpan"})]}),!O.description&&(0,s.jsxs)("div",{className:"text-center py-8 text-gray-400",children:[s.jsx(N.Z,{className:"w-12 h-12 mx-auto mb-2 opacity-50"}),s.jsx("p",{className:"text-sm",children:"Belum ada deskripsi produk"})]})]})}),s.jsx(d.Z,{title:"Gambar Produk",subtitle:"Upload gambar produk (maksimal 20MB per gambar, format: JPG, PNG, WebP)",icon:s.jsx(v.Z,{className:"w-5 h-5 text-purple-600"}),defaultOpen:!1,className:"transition-all duration-300 hover:shadow-lg",headerClassName:"hover:bg-purple-50",children:(0,s.jsxs)("div",{className:"space-y-4",children:[U.length>0&&s.jsx("div",{className:"bg-orange-50 border border-orange-200 rounded-lg p-3",children:(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{className:"flex items-center",children:[s.jsx(h.Z,{className:"w-4 h-4 text-orange-600 mr-2"}),(0,s.jsxs)("span",{className:"text-sm text-orange-700",children:[U.length," perubahan gambar akan disimpan"]})]}),s.jsx("button",{onClick:ep,className:"text-sm text-orange-600 hover:text-orange-800 underline",children:"Reset semua perubahan"})]})}),s.jsx("div",{className:`border rounded-lg p-3 ${ei()?"bg-blue-50 border-blue-200":"bg-red-50 border-red-200"}`,children:ei()?(0,s.jsxs)(s.Fragment,{children:[s.jsx(k.Z,{className:"w-4 h-4 inline mr-2 text-blue-600"}),(0,s.jsxs)("span",{className:"text-sm text-blue-700",children:[s.jsx("strong",{children:"Gambar 1"})," akan digunakan sebagai thumbnail utama produk"]})]}):(0,s.jsxs)(s.Fragment,{children:[s.jsx(u.Z,{className:"w-4 h-4 inline mr-2 text-red-600"}),(0,s.jsxs)("span",{className:"text-sm text-red-700",children:[s.jsx("strong",{children:"Primary image wajib diisi!"})," Upload gambar di posisi 1 terlebih dahulu."]})]})}),s.jsx("div",{className:"grid grid-cols-2 lg:grid-cols-5 gap-4",children:Array.from({length:10},(e,a)=>{let t=B[a],r=U.some(e=>e.index===a);return(0,s.jsxs)("div",{className:"relative",children:[s.jsx("div",{className:`aspect-square border-2 border-dashed rounded-lg flex items-center justify-center bg-gray-50 overflow-hidden transition-all duration-200 ${r?"border-orange-300 bg-orange-50 shadow-md":"border-gray-300 hover:border-gray-400"}`,children:t?(0,s.jsxs)("div",{className:"relative w-full h-full group",children:[s.jsx("img",{src:t.startsWith("data:")?t:`https://api.seniindah.co.id/${t}`,alt:`Gambar ${a+1}`,className:"w-full h-full object-cover"}),0===a&&s.jsx("div",{className:"absolute top-1 left-1 bg-blue-600 text-white text-xs px-2 py-1 rounded shadow-sm",children:"Primary"}),r&&s.jsx("div",{className:"absolute top-1 right-1 bg-orange-600 text-white text-xs px-2 py-1 rounded shadow-sm animate-pulse",children:U.find(e=>e.index===a)?.action==="upload"?"New":"Del"}),s.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-0 group-hover:bg-opacity-50 flex items-center justify-center transition-all duration-200",children:s.jsx("button",{onClick:()=>eg(a),className:"opacity-0 group-hover:opacity-100 p-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-all duration-200 transform scale-90 group-hover:scale-100",title:0===a?"Hapus primary image (perlu konfirmasi)":`Hapus gambar ${a+1}`,children:s.jsx(y.Z,{className:"w-4 h-4"})})})]}):s.jsx("div",{className:"text-center",children:(0,s.jsxs)("label",{className:"cursor-pointer flex flex-col items-center hover:text-gray-600 transition-colors",children:[s.jsx(v.Z,{className:"w-6 h-6 text-gray-400 mb-1"}),s.jsx("span",{className:"text-xs text-gray-500",children:"Upload"}),s.jsx("input",{type:"file",accept:"image/*",onChange:e=>{let t=e.target.files?.[0];t&&eu(a,t)},className:"hidden"})]})})}),s.jsx("div",{className:"text-center mt-1",children:(0,s.jsxs)("span",{className:"text-xs text-gray-500",children:["Gambar ",a+1,0===a&&s.jsx("span",{className:"text-blue-600 font-medium",children:" (Thumbnail)"})]})})]},a)})}),(0,s.jsxs)("div",{className:"bg-gray-50 border border-gray-200 rounded-lg p-3",children:[s.jsx("h4",{className:"text-sm font-medium text-gray-800 mb-2",children:"\uD83D\uDCF8 Tips upload gambar:"}),(0,s.jsxs)("ul",{className:"text-xs text-gray-600 space-y-1",children:[s.jsx("li",{children:"• Gunakan gambar berkualitas tinggi (minimal 800x800px)"}),s.jsx("li",{children:"• Format yang disarankan: JPG untuk foto, PNG untuk gambar dengan transparansi"}),s.jsx("li",{children:"• Pastikan pencahayaan yang baik dan fokus yang tajam"}),s.jsx("li",{children:"• Tampilkan produk dari berbagai sudut (depan, samping, detail, dll)"})]})]})]})}),s.jsx(d.Z,{title:"Keunggulan & Manfaat",subtitle:"Jelaskan keunggulan dan manfaat produk ini. Buat dalam bentuk list atau paragraf yang mudah dipahami.",icon:s.jsx(w.Z,{className:"w-5 h-5 text-green-600"}),defaultOpen:!1,className:"transition-all duration-300 hover:shadow-lg",headerClassName:"hover:bg-green-50",children:(0,s.jsxs)("div",{className:"space-y-4",children:[s.jsx("div",{className:"border border-gray-200 rounded-lg overflow-hidden",children:s.jsx(l.Z,{id:"benefits-editor",value:O.benefits,onChange:e=>ec("benefits",e),height:300,placeholder:"Jelaskan keunggulan dan manfaat produk... Contoh: ✓ Tahan air ✓ Mudah dipasang ✓ Berkualitas tinggi"})}),O.benefits&&(0,s.jsxs)("div",{className:"flex items-center justify-between text-xs text-gray-500",children:[(0,s.jsxs)("span",{children:[O.benefits.replace(/<[^>]*>/g,"").length," karakter"]}),s.jsx("span",{className:"text-green-600",children:O.benefits!==(C?.benefits||"")?"• Diubah":"• Tersimpan"})]}),!O.benefits&&(0,s.jsxs)("div",{className:"text-center py-8 text-gray-400",children:[s.jsx(w.Z,{className:"w-12 h-12 mx-auto mb-2 opacity-50"}),s.jsx("p",{className:"text-sm",children:"Belum ada keunggulan & manfaat"})]}),(0,s.jsxs)("div",{className:"bg-green-50 border border-green-200 rounded-lg p-3",children:[s.jsx("h4",{className:"text-sm font-medium text-green-800 mb-2",children:"\uD83D\uDCA1 Tips menulis keunggulan:"}),(0,s.jsxs)("ul",{className:"text-xs text-green-700 space-y-1",children:[s.jsx("li",{children:"• Gunakan bullet points (✓, •, ★) untuk memudahkan pembacaan"}),s.jsx("li",{children:"• Fokus pada manfaat untuk customer, bukan hanya fitur"}),s.jsx("li",{children:"• Sertakan keunggulan dibanding kompetitor"}),s.jsx("li",{children:'• Gunakan kata-kata yang meyakinkan seperti "tahan lama", "berkualitas"'})]})]})]})}),s.jsx(d.Z,{title:"SEO & Meta Data",subtitle:"Optimasi untuk mesin pencari dan media sosial",icon:s.jsx(_.Z,{className:"w-5 h-5 text-indigo-600"}),defaultOpen:!1,className:"transition-all duration-300 hover:shadow-lg",headerClassName:"hover:bg-indigo-50",children:(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsxs)("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Meta Title"}),s.jsx("input",{type:"text",value:O.meta_title,onChange:e=>ec("meta_title",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",placeholder:"Otomatis berdasarkan nama produk jika kosong"}),(0,s.jsxs)("div",{className:"mt-1 flex items-center justify-between text-xs",children:[(0,s.jsxs)("span",{className:`${O.meta_title.length>60?"text-red-600":O.meta_title.length>50?"text-yellow-600":"text-gray-500"}`,children:[O.meta_title.length,"/60 karakter"]}),s.jsx("span",{className:"text-gray-400",children:"Rekomendasi: 50-60 karakter"})]})]}),(0,s.jsxs)("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Meta Description"}),s.jsx("textarea",{value:O.meta_description,onChange:e=>ec("meta_description",e.target.value),rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",placeholder:"Otomatis berdasarkan deskripsi produk jika kosong"}),(0,s.jsxs)("div",{className:"mt-1 flex items-center justify-between text-xs",children:[(0,s.jsxs)("span",{className:`${O.meta_description.length>160?"text-red-600":O.meta_description.length>150?"text-yellow-600":"text-gray-500"}`,children:[O.meta_description.length,"/160 karakter"]}),s.jsx("span",{className:"text-gray-400",children:"Rekomendasi: 150-160 karakter"})]})]}),(O.meta_title||O.title)&&(0,s.jsxs)("div",{className:"bg-gray-50 border border-gray-200 rounded-lg p-4",children:[s.jsx("h4",{className:"text-sm font-medium text-gray-800 mb-2",children:"\uD83D\uDD0D Preview Google Search:"}),(0,s.jsxs)("div",{className:"space-y-1",children:[s.jsx("div",{className:"text-lg text-blue-600 hover:underline cursor-pointer",children:O.meta_title||`${O.title} - Seni Indah Gypsum`}),(0,s.jsxs)("div",{className:"text-sm text-green-700",children:["seniindah.co.id › produk › ",O.title.toLowerCase().replace(/\s+/g,"-")]}),s.jsx("div",{className:"text-sm text-gray-600",children:O.meta_description||(O.description?O.description.replace(/<[^>]*>/g,"").substring(0,150)+"...":`${O.title} berkualitas tinggi dari Seni Indah Gypsum. Produk terpercaya dengan garansi kualitas terjamin.`)})]})]}),(0,s.jsxs)("div",{className:"bg-indigo-50 border border-indigo-200 rounded-lg p-3",children:[s.jsx("h4",{className:"text-sm font-medium text-indigo-800 mb-2",children:"\uD83C\uDFAF Tips SEO:"}),(0,s.jsxs)("ul",{className:"text-xs text-indigo-700 space-y-1",children:[s.jsx("li",{children:"• Gunakan kata kunci utama di awal meta title"}),s.jsx("li",{children:"• Meta description harus meyakinkan dan mengundang klik"}),s.jsx("li",{children:"• Hindari keyword stuffing (pengulangan kata kunci berlebihan)"}),s.jsx("li",{children:"• Pastikan setiap produk memiliki meta data yang unik"})]})]})]})})]}),s.jsx(P,{isOpen:X,onClose:()=>Y(!1),onConfirm:ex,title:"Konfirmasi Simpan Perubahan",message:"Masukkan slug produk untuk mengkonfirmasi perubahan.",requiredSlug:C.slug,type:"warning"}),s.jsx(P,{isOpen:Q,onClose:()=>ee(!1),onConfirm:eh,title:"Konfirmasi Hapus Produk",message:"Masukkan slug produk untuk mengkonfirmasi penghapusan produk secara permanen.",requiredSlug:C.slug,type:"danger"}),s.jsx(Z,{isOpen:ea,onClose:()=>et(!1),onConfirm:()=>{em(0),et(!1)}})]})})}):s.jsx(n.Z,{requiredRole:"moderator",children:s.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:(0,s.jsxs)("div",{className:"text-center",children:[s.jsx(g.Z,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),s.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Produk Tidak Ditemukan"}),s.jsx("p",{className:"text-gray-600 mb-4",children:"Produk yang Anda cari tidak ditemukan atau sudah dihapus."}),(0,s.jsxs)(o.default,{href:"/dashboard/management/products",className:"inline-flex items-center px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:[s.jsx(p.Z,{className:"w-4 h-4 mr-2"}),"Kembali ke Daftar Produk"]})]})})})}},5327:(e,a,t)=>{"use strict";t.r(a),t.d(a,{$$typeof:()=>n,__esModule:()=>i,default:()=>l});var s=t(8570);let r=(0,s.createProxy)(String.raw`D:\1Programming Area\Website\Seni Indah Deployment\Seni Indah Gypsum\src\app\dashboard\management\products\edit\[slug]\page.tsx`),{__esModule:i,$$typeof:n}=r;r.default;let l=(0,s.createProxy)(String.raw`D:\1Programming Area\Website\Seni Indah Deployment\Seni Indah Gypsum\src\app\dashboard\management\products\edit\[slug]\page.tsx#default`)}};var a=require("../../../../../../webpack-runtime.js");a.C(e);var t=e=>a(a.s=e),s=a.X(0,[876,87,861,854],()=>t(9905));module.exports=s})();