(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6893],{9285:function(e,a,s){Promise.resolve().then(s.bind(s,6323))},7524:function(e,a,s){"use strict";s.d(a,{Z:function(){return t}});/**
 * @license lucide-react v0.445.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let t=(0,s(8030).Z)("Package",[["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]])},9451:function(e,a,s){"use strict";s.d(a,{Z:function(){return t}});/**
 * @license lucide-react v0.445.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let t=(0,s(8030).Z)("PenLine",[["path",{d:"M12 20h9",key:"t2du7b"}],["path",{d:"M16.376 3.622a1 1 0 0 1 3.002 3.002L7.368 18.635a2 2 0 0 1-.855.506l-2.872.838a.5.5 0 0 1-.62-.62l.838-2.872a2 2 0 0 1 .506-.854z",key:"1ykcvy"}]])},6323:function(e,a,s){"use strict";s.r(a),s.d(a,{default:function(){return P}});var t=s(7437),r=s(2265),i=s(7632),n=s(4682),l=s(3260),d=s(1340),c=s(7138),o=s(6463),u=s(6127),m=s(3274),g=s(7524),x=s(5137),p=s(9451),h=s(6780);/**
 * @license lucide-react v0.445.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let b=(0,s(8030).Z)("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);var f=s(9061),j=s(883),y=s(2468),k=s(690),N=s(2023),v=s(8604),w=s(3907),_=s(5733),S=s(9775);let C=e=>{let{isOpen:a,onClose:s,onConfirm:i,title:n,message:l,requiredSlug:d,type:c="warning"}=e,[o,m]=(0,r.useState)(""),[g,x]=(0,r.useState)(!1);return((0,r.useEffect)(()=>{x(o===d)},[o,d]),(0,r.useEffect)(()=>{a&&(m(""),x(!1))},[a]),a)?(0,t.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:(0,t.jsxs)("div",{className:"bg-white rounded-lg max-w-md w-full p-6",children:[(0,t.jsxs)("div",{className:"flex items-center mb-4",children:[(0,t.jsx)(u.Z,{className:`w-6 h-6 mr-3 ${"danger"===c?"text-red-600":"text-yellow-600"}`}),(0,t.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:n})]}),(0,t.jsx)("p",{className:"text-gray-600 mb-4",children:l}),(0,t.jsxs)("div",{className:"mb-4",children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Ketik slug produk untuk konfirmasi:"}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)("div",{className:"p-2 bg-gray-100 rounded border text-sm font-mono text-gray-800",children:d}),(0,t.jsx)("input",{type:"text",value:o,onChange:e=>m(e.target.value),className:`w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 ${o&&!g?"border-red-300 focus:ring-red-500":"border-gray-300 focus:ring-blue-500"}`,placeholder:"Masukkan slug di atas",autoFocus:!0}),o&&!g&&(0,t.jsx)("p",{className:"text-sm text-red-600",children:"Slug tidak sesuai"})]})]}),(0,t.jsxs)("div",{className:"flex space-x-3",children:[(0,t.jsx)("button",{onClick:()=>{g&&(i(o),m(""))},disabled:!g,className:`flex-1 px-4 py-2 rounded-lg font-medium ${g?"danger"===c?"bg-red-600 text-white hover:bg-red-700":"bg-yellow-600 text-white hover:bg-yellow-700":"bg-gray-300 text-gray-500 cursor-not-allowed"}`,children:"Konfirmasi"}),(0,t.jsx)("button",{onClick:s,className:"flex-1 px-4 py-2 bg-gray-200 text-gray-800 rounded-lg font-medium hover:bg-gray-300",children:"Batal"})]})]})}):null},Z=e=>{let{isOpen:a,onClose:s,onConfirm:r}=e;return a?(0,t.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:(0,t.jsxs)("div",{className:"bg-white rounded-lg max-w-md w-full p-6",children:[(0,t.jsxs)("div",{className:"flex items-center mb-4",children:[(0,t.jsx)(u.Z,{className:"w-6 h-6 mr-3 text-red-600"}),(0,t.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"Hapus Primary Image?"})]}),(0,t.jsxs)("div",{className:"mb-6",children:[(0,t.jsxs)("p",{className:"text-gray-600 mb-3",children:["Anda akan menghapus ",(0,t.jsx)("strong",{children:"primary image"})," (gambar utama) produk ini."]}),(0,t.jsx)("div",{className:"bg-red-50 border border-red-200 rounded-lg p-3",children:(0,t.jsxs)("p",{className:"text-sm text-red-700",children:[(0,t.jsx)("strong",{children:"Peringatan:"})," Primary image wajib ada untuk setiap produk. Jika Anda menghapus gambar ini, Anda harus mengupload gambar baru di posisi 1 sebelum dapat menyimpan produk."]})})]}),(0,t.jsxs)("div",{className:"flex space-x-3",children:[(0,t.jsx)("button",{onClick:r,className:"flex-1 px-4 py-2 bg-red-600 text-white rounded-lg font-medium hover:bg-red-700",children:"Ya, Hapus"}),(0,t.jsx)("button",{onClick:s,className:"flex-1 px-4 py-2 bg-gray-200 text-gray-800 rounded-lg font-medium hover:bg-gray-300",children:"Batal"})]})]})}):null};var P=e=>{let{params:a}=e,{user:s}=(0,i.E)(),P=(0,o.useRouter)(),[D,E]=(0,r.useState)(null),[M,$]=(0,r.useState)([]),[G,T]=(0,r.useState)(!0),[F,O]=(0,r.useState)(!1),[A,q]=(0,r.useState)(""),[K,R]=(0,r.useState)(""),[H,B]=(0,r.useState)({title:"",description:"",benefits:"",price_regular:"",price_discount:"",category_id:"",sku:"",brand:"",weight:"",dimensions:"",meta_title:"",meta_description:"",stock_status:"in_stock",is_featured:!1});(0,r.useEffect)(()=>{s?.email,H.title&&(document.title=`${H.title} | ${s?.email}`)},[s?.email,H.title]);let[U,L]=(0,r.useState)(Array(10).fill(null)),[z,J]=(0,r.useState)(Array(10).fill(null)),[I,W]=(0,r.useState)([]),[V,Y]=(0,r.useState)(!1),[Q,X]=(0,r.useState)(!1),[ee,ea]=(0,r.useState)(!1),[es,et]=(0,r.useState)(!1),[er,ei]=(0,r.useState)(""),en=()=>null!==z[0],el=e=>0===e&&null!==z[0],ed=()=>{if(!D)return!1;let e=H.title!==D.title||H.description!==(D.description||"")||H.benefits!==(D.benefits||"")||H.price_regular!==D.price_regular.toString()||H.price_discount!==(D.price_discount?.toString()||"")||H.category_id!==D.category_id.toString()||H.sku!==(D.sku||"")||H.brand!==(D.brand||"")||H.weight!==(D.weight?.toString()||"")||H.dimensions!==(D.dimensions||"")||H.meta_title!==(D.meta_title||"")||H.meta_description!==(D.meta_description||"")||H.stock_status!==D.stock_status||H.is_featured!==D.is_featured,a=I.length>0;return e||a},ec=(e,a)=>{let s=parseFloat(e),t=parseFloat(a);return a&&!isNaN(s)&&!isNaN(t)&&t>=s?(ei("Harga diskon harus lebih kecil dari harga regular"),!1):(ei(""),!0)},eo=async()=>{try{T(!0);let e=await (0,S.sg)("/v1.0/admin/product/get",{slug:a.slug});if(!e.success)throw Error("string"==typeof e.data?e.data:"Failed to load product");let s=await (0,S.sg)("/v1.0/admin/product/get-by-id",{id:e.data.id});if(s.success){let e=s.data.product;E(e),$(s.data.categories),B({title:e.title||"",description:e.description||"",benefits:e.benefits||"",price_regular:e.price_regular?.toString()||"",price_discount:e.price_discount?.toString()||"",category_id:e.category_id?.toString()||"",sku:e.sku||"",brand:e.brand||"",weight:e.weight?.toString()||"",dimensions:e.dimensions||"",meta_title:e.meta_title||"",meta_description:e.meta_description||"",stock_status:e.stock_status||"in_stock",is_featured:e.is_featured||!1});let a=[];for(let s=1;s<=10;s++){let t=`image_url_${s}`;a.push(e[t]||null)}L([...a]),J([...a]),W([]),Y(!1)}else throw Error("string"==typeof s.data?s.data:"Failed to load product")}catch(e){e instanceof S.MS?q(e.message):q(e instanceof Error?e.message:"Failed to load product")}finally{T(!1)}},eu=(e,a)=>{B(s=>({...s,[e]:a})),("price_regular"===e||"price_discount"===e)&&ec("price_regular"===e?a:H.price_regular,"price_discount"===e?a:H.price_discount),setTimeout(()=>{Y(ed())},0)},em=(e,a)=>{let s=new FileReader;s.onload=s=>{let t=s.target?.result;J(a=>{let s=[...a];return s[e]=t,s}),W(s=>[...s.filter(a=>a.index!==e),{action:"upload",index:e,file:a,preview:t}]),Y(!0)},s.readAsDataURL(a)},eg=e=>{J(a=>{let s=[...a];return s[e]=null,s}),W(a=>{let s=a.filter(a=>a.index!==e);return U[e]?[...s,{action:"delete",index:e}]:s}),Y(!0)},ex=e=>{if(el(e)){et(!0);return}eg(e)},ep=()=>{J([...U]),W([]),Y(ed())},eh=async e=>{try{if(O(!0),!ec(H.price_regular,H.price_discount)){q("Perbaiki error harga sebelum menyimpan"),O(!1);return}if(!en()){q("Primary image (Gambar 1) wajib diisi sebelum menyimpan produk"),O(!1);return}let a=new FormData;a.append("id",D.id.toString()),a.append("title",H.title),a.append("description",H.description),a.append("benefits",H.benefits),a.append("price_regular",H.price_regular),a.append("price_discount",H.price_discount),a.append("category_id",H.category_id),a.append("sku",H.sku),a.append("brand",H.brand),a.append("weight",H.weight),a.append("dimensions",H.dimensions),a.append("meta_title",H.meta_title),a.append("meta_description",H.meta_description),a.append("stock_status",H.stock_status),a.append("is_featured",H.is_featured.toString()),a.append("confirm_slug",e),I.forEach(e=>{"delete"===e.action&&a.append(`delete_image_${e.index+1}`,"true")}),I.forEach(e=>{"upload"===e.action&&e.file&&a.append(`image_${e.index+1}`,e.file)});let s=I.length>0?"/v1.0/admin/product/update-batch":"/v1.0/admin/product/update",t=await (0,S.U8)(s,a);t.success?(R("Produk berhasil diupdate"),q(""),X(!1),W([]),Y(!1),t.data.summary&&(t.data.summary.images_uploaded>0&&R(`Produk berhasil diupdate dengan ${t.data.summary.images_uploaded} gambar baru`),t.data.summary.errors&&t.data.summary.errors.length),await eo()):t.data&&"object"==typeof t.data&&t.data.confirmation_required?q(t.data.message||"Konfirmasi diperlukan"):q(t.data||"Update failed")}catch(e){e instanceof S.MS?q(e.message):q(e instanceof Error?e.message:"Save failed")}finally{O(!1)}},eb=async e=>{try{let a=await (0,S.sg)("/v1.0/admin/product/delete",{id:D.id,confirm_slug:e});a.success?(R("Produk berhasil dihapus"),setTimeout(()=>{P.push("/dashboard/management/products")},1500)):q(a.data||"Delete failed")}catch(e){e instanceof S.MS?q(e.message):q(e instanceof Error?e.message:"Delete failed")}};return((0,r.useEffect)(()=>{eo()},[a.slug]),(0,r.useEffect)(()=>{if(K){let e=setTimeout(()=>R(""),3e3);return()=>clearTimeout(e)}},[K]),(0,r.useEffect)(()=>{if(A){let e=setTimeout(()=>q(""),5e3);return()=>clearTimeout(e)}},[A]),(0,r.useEffect)(()=>{Y(ed())},[H,I,D]),G)?(0,t.jsx)(n.Z,{requiredRole:"moderator",children:(0,t.jsx)("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)(m.Z,{className:"w-8 h-8 animate-spin text-blue-600 mx-auto mb-4"}),(0,t.jsx)("p",{className:"text-gray-600",children:"Memuat data produk..."})]})})}):D?(0,t.jsx)(n.Z,{requiredRole:"moderator",children:(0,t.jsx)("div",{className:"min-h-screen bg-gray-50 py-4 lg:py-8",children:(0,t.jsxs)("div",{className:"max-w-5xl mx-auto px-4",children:[(0,t.jsxs)("div",{className:"mb-6",children:[(0,t.jsx)("div",{className:"flex items-center mb-4",children:(0,t.jsxs)(c.default,{href:"/dashboard/management/products",className:"flex items-center text-gray-600 hover:text-gray-900 transition-colors",children:[(0,t.jsx)(x.Z,{className:"w-4 h-4 mr-1"}),(0,t.jsx)("span",{className:"text-sm",children:"Kembali ke Daftar Produk"})]})}),(0,t.jsx)("div",{className:"bg-white rounded-lg shadow-md p-4 lg:p-6",children:(0,t.jsxs)("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-4",children:[(0,t.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,t.jsx)("div",{className:"w-10 h-10 lg:w-12 lg:h-12 bg-gradient-to-br from-green-500 to-blue-600 rounded-full flex items-center justify-center",children:(0,t.jsx)(p.Z,{className:"w-5 h-5 lg:w-6 lg:h-6 text-white"})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h1",{className:"text-xl lg:text-2xl font-bold text-gray-900",children:"Edit Produk"}),(0,t.jsx)("p",{className:"text-sm lg:text-base text-gray-600",children:D.title}),V&&(0,t.jsxs)("span",{className:"inline-flex items-center text-xs text-orange-600 mt-1",children:[(0,t.jsx)(h.Z,{className:"w-3 h-3 mr-1"}),"Ada perubahan yang belum disimpan"]})]})]}),(0,t.jsxs)("div",{className:"flex space-x-2",children:[V&&(0,t.jsxs)("button",{onClick:()=>{B({title:D.title||"",description:D.description||"",benefits:D.benefits||"",price_regular:D.price_regular?.toString()||"",price_discount:D.price_discount?.toString()||"",category_id:D.category_id?.toString()||"",sku:D.sku||"",brand:D.brand||"",weight:D.weight?.toString()||"",dimensions:D.dimensions||"",meta_title:D.meta_title||"",meta_description:D.meta_description||"",stock_status:D.stock_status||"in_stock",is_featured:D.is_featured||!1}),ep(),ei("")},className:"flex items-center space-x-2 px-3 py-2 bg-gray-600 text-white rounded-lg hover:bg-gray-700 transition-colors",children:[(0,t.jsx)(b,{className:"w-4 h-4"}),(0,t.jsx)("span",{children:"Reset"})]}),(0,t.jsxs)("button",{onClick:()=>X(!0),disabled:F||!V||!!er||!en(),className:"flex items-center space-x-2 px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:[F?(0,t.jsx)(m.Z,{className:"w-4 h-4 animate-spin"}):(0,t.jsx)(f.Z,{className:"w-4 h-4"}),(0,t.jsx)("span",{children:F?"Menyimpan...":"Simpan"})]}),(0,t.jsxs)("button",{onClick:()=>ea(!0),className:"flex items-center space-x-2 px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors",children:[(0,t.jsx)(j.Z,{className:"w-4 h-4"}),(0,t.jsx)("span",{children:"Hapus"})]})]})]})})]}),A&&(0,t.jsxs)("div",{className:"mb-6 p-4 bg-red-100 border border-red-400 text-red-700 rounded-lg flex items-center",children:[(0,t.jsx)(h.Z,{className:"w-5 h-5 mr-2"}),A]}),K&&(0,t.jsxs)("div",{className:"mb-6 p-4 bg-green-100 border border-green-400 text-green-700 rounded-lg flex items-center",children:[(0,t.jsx)(y.Z,{className:"w-5 h-5 mr-2"}),K]}),er&&(0,t.jsxs)("div",{className:"mb-6 p-4 bg-yellow-100 border border-yellow-400 text-yellow-700 rounded-lg flex items-center",children:[(0,t.jsx)(u.Z,{className:"w-5 h-5 mr-2"}),er]}),!en()&&(0,t.jsxs)("div",{className:"mb-6 p-4 bg-red-100 border border-red-400 text-red-700 rounded-lg flex items-center",children:[(0,t.jsx)(u.Z,{className:"w-5 h-5 mr-2"}),"Primary image (Gambar 1) wajib diisi sebelum produk dapat disimpan"]}),(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{className:"bg-white rounded-lg shadow-md p-4 lg:p-6",children:[(0,t.jsx)("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Informasi Dasar"}),(0,t.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{className:"lg:col-span-2",children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Nama Produk *"}),(0,t.jsx)("input",{type:"text",value:H.title,onChange:e=>eu("title",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Nama produk",required:!0}),H.title!==D.title&&(0,t.jsxs)("div",{className:"mt-1 p-2 bg-blue-50 border border-blue-200 rounded text-sm",children:[(0,t.jsx)(k.Z,{className:"w-4 h-4 inline mr-1 text-blue-600"}),(0,t.jsxs)("span",{className:"text-blue-700",children:["Slug baru: ",(0,t.jsx)("strong",{children:H.title?H.title.toLowerCase().normalize("NFD").replace(/[\u0300-\u036f]/g,"").replace(/[^a-z0-9\s-]/g,"").replace(/\s+/g,"-").replace(/-+/g,"-").replace(/^-+|-+$/g,""):""})]})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Harga Regular *"}),(0,t.jsx)("input",{type:"number",value:H.price_regular,onChange:e=>eu("price_regular",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"0",required:!0})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Harga Diskon"}),(0,t.jsx)("input",{type:"number",value:H.price_discount,onChange:e=>eu("price_discount",e.target.value),className:`w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 ${er?"border-red-300 focus:ring-red-500":"border-gray-300 focus:ring-blue-500"}`,placeholder:"0"}),er&&(0,t.jsx)("p",{className:"mt-1 text-sm text-red-600",children:er})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Kategori *"}),(0,t.jsxs)("select",{value:H.category_id,onChange:e=>eu("category_id",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0,children:[(0,t.jsx)("option",{value:"",children:"Pilih Kategori"}),M.map(e=>(0,t.jsx)("option",{value:e.id,children:e.name},e.id))]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Status Stok"}),(0,t.jsxs)("select",{value:H.stock_status,onChange:e=>eu("stock_status",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:[(0,t.jsx)("option",{value:"in_stock",children:"Tersedia"}),(0,t.jsx)("option",{value:"out_of_stock",children:"Habis"}),(0,t.jsx)("option",{value:"pre_order",children:"Pre-order"})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"SKU"}),(0,t.jsx)("input",{type:"text",value:H.sku,onChange:e=>eu("sku",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"SKU-001"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Brand"}),(0,t.jsx)("input",{type:"text",value:H.brand,onChange:e=>eu("brand",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Nama brand"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Berat (kg)"}),(0,t.jsx)("input",{type:"number",step:"0.1",value:H.weight,onChange:e=>eu("weight",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"0.0"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Dimensi"}),(0,t.jsx)("input",{type:"text",value:H.dimensions,onChange:e=>eu("dimensions",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"100x200x10 cm"})]}),(0,t.jsx)("div",{className:"lg:col-span-2",children:(0,t.jsxs)("label",{className:"flex items-center",children:[(0,t.jsx)("input",{type:"checkbox",checked:H.is_featured,onChange:e=>eu("is_featured",e.target.checked),className:"rounded border-gray-300 text-blue-600 shadow-sm focus:border-blue-300 focus:ring focus:ring-blue-200 focus:ring-opacity-50"}),(0,t.jsx)("span",{className:"ml-2 text-sm text-gray-700",children:"Produk Unggulan"})]})})]})]}),(0,t.jsx)(d.Z,{title:"Deskripsi Produk",subtitle:"Tulis deskripsi lengkap produk dengan format yang menarik. Gunakan heading, bullet points, dan styling untuk memudahkan pembacaan.",icon:(0,t.jsx)(N.Z,{className:"w-5 h-5 text-blue-600"}),defaultOpen:!1,className:"transition-all duration-300 hover:shadow-lg",headerClassName:"hover:bg-blue-50",children:(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsx)("div",{className:"border border-gray-200 rounded-lg overflow-hidden",children:(0,t.jsx)(l.Z,{id:"description-editor",value:H.description,onChange:e=>eu("description",e),height:400,placeholder:"Tulis deskripsi lengkap produk... Gunakan toolbar untuk formatting text, menambah gambar, tabel, dan lainnya."})}),H.description&&(0,t.jsxs)("div",{className:"flex items-center justify-between text-xs text-gray-500",children:[(0,t.jsxs)("span",{children:[H.description.replace(/<[^>]*>/g,"").length," karakter"]}),(0,t.jsx)("span",{className:"text-blue-600",children:H.description!==(D?.description||"")?"• Diubah":"• Tersimpan"})]}),!H.description&&(0,t.jsxs)("div",{className:"text-center py-8 text-gray-400",children:[(0,t.jsx)(N.Z,{className:"w-12 h-12 mx-auto mb-2 opacity-50"}),(0,t.jsx)("p",{className:"text-sm",children:"Belum ada deskripsi produk"})]})]})}),(0,t.jsx)(d.Z,{title:"Gambar Produk",subtitle:"Upload gambar produk (maksimal 20MB per gambar, format: JPG, PNG, WebP)",icon:(0,t.jsx)(v.Z,{className:"w-5 h-5 text-purple-600"}),defaultOpen:!1,className:"transition-all duration-300 hover:shadow-lg",headerClassName:"hover:bg-purple-50",children:(0,t.jsxs)("div",{className:"space-y-4",children:[I.length>0&&(0,t.jsx)("div",{className:"bg-orange-50 border border-orange-200 rounded-lg p-3",children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{className:"flex items-center",children:[(0,t.jsx)(h.Z,{className:"w-4 h-4 text-orange-600 mr-2"}),(0,t.jsxs)("span",{className:"text-sm text-orange-700",children:[I.length," perubahan gambar akan disimpan"]})]}),(0,t.jsx)("button",{onClick:ep,className:"text-sm text-orange-600 hover:text-orange-800 underline",children:"Reset semua perubahan"})]})}),(0,t.jsx)("div",{className:`border rounded-lg p-3 ${en()?"bg-blue-50 border-blue-200":"bg-red-50 border-red-200"}`,children:en()?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(k.Z,{className:"w-4 h-4 inline mr-2 text-blue-600"}),(0,t.jsxs)("span",{className:"text-sm text-blue-700",children:[(0,t.jsx)("strong",{children:"Gambar 1"})," akan digunakan sebagai thumbnail utama produk"]})]}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(u.Z,{className:"w-4 h-4 inline mr-2 text-red-600"}),(0,t.jsxs)("span",{className:"text-sm text-red-700",children:[(0,t.jsx)("strong",{children:"Primary image wajib diisi!"})," Upload gambar di posisi 1 terlebih dahulu."]})]})}),(0,t.jsx)("div",{className:"grid grid-cols-2 lg:grid-cols-5 gap-4",children:Array.from({length:10},(e,a)=>{let s=z[a],r=I.some(e=>e.index===a);return(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)("div",{className:`aspect-square border-2 border-dashed rounded-lg flex items-center justify-center bg-gray-50 overflow-hidden transition-all duration-200 ${r?"border-orange-300 bg-orange-50 shadow-md":"border-gray-300 hover:border-gray-400"}`,children:s?(0,t.jsxs)("div",{className:"relative w-full h-full group",children:[(0,t.jsx)("img",{src:s.startsWith("data:")?s:`https://api.seniindah.co.id/${s}`,alt:`Gambar ${a+1}`,className:"w-full h-full object-cover"}),0===a&&(0,t.jsx)("div",{className:"absolute top-1 left-1 bg-blue-600 text-white text-xs px-2 py-1 rounded shadow-sm",children:"Primary"}),r&&(0,t.jsx)("div",{className:"absolute top-1 right-1 bg-orange-600 text-white text-xs px-2 py-1 rounded shadow-sm animate-pulse",children:I.find(e=>e.index===a)?.action==="upload"?"New":"Del"}),(0,t.jsx)("div",{className:"absolute inset-0 bg-black bg-opacity-0 group-hover:bg-opacity-50 flex items-center justify-center transition-all duration-200",children:(0,t.jsx)("button",{onClick:()=>ex(a),className:"opacity-0 group-hover:opacity-100 p-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-all duration-200 transform scale-90 group-hover:scale-100",title:0===a?"Hapus primary image (perlu konfirmasi)":`Hapus gambar ${a+1}`,children:(0,t.jsx)(j.Z,{className:"w-4 h-4"})})})]}):(0,t.jsx)("div",{className:"text-center",children:(0,t.jsxs)("label",{className:"cursor-pointer flex flex-col items-center hover:text-gray-600 transition-colors",children:[(0,t.jsx)(v.Z,{className:"w-6 h-6 text-gray-400 mb-1"}),(0,t.jsx)("span",{className:"text-xs text-gray-500",children:"Upload"}),(0,t.jsx)("input",{type:"file",accept:"image/*",onChange:e=>{let s=e.target.files?.[0];s&&em(a,s)},className:"hidden"})]})})}),(0,t.jsx)("div",{className:"text-center mt-1",children:(0,t.jsxs)("span",{className:"text-xs text-gray-500",children:["Gambar ",a+1,0===a&&(0,t.jsx)("span",{className:"text-blue-600 font-medium",children:" (Thumbnail)"})]})})]},a)})}),(0,t.jsxs)("div",{className:"bg-gray-50 border border-gray-200 rounded-lg p-3",children:[(0,t.jsx)("h4",{className:"text-sm font-medium text-gray-800 mb-2",children:"\uD83D\uDCF8 Tips upload gambar:"}),(0,t.jsxs)("ul",{className:"text-xs text-gray-600 space-y-1",children:[(0,t.jsx)("li",{children:"• Gunakan gambar berkualitas tinggi (minimal 800x800px)"}),(0,t.jsx)("li",{children:"• Format yang disarankan: JPG untuk foto, PNG untuk gambar dengan transparansi"}),(0,t.jsx)("li",{children:"• Pastikan pencahayaan yang baik dan fokus yang tajam"}),(0,t.jsx)("li",{children:"• Tampilkan produk dari berbagai sudut (depan, samping, detail, dll)"})]})]})]})}),(0,t.jsx)(d.Z,{title:"Keunggulan & Manfaat",subtitle:"Jelaskan keunggulan dan manfaat produk ini. Buat dalam bentuk list atau paragraf yang mudah dipahami.",icon:(0,t.jsx)(w.Z,{className:"w-5 h-5 text-green-600"}),defaultOpen:!1,className:"transition-all duration-300 hover:shadow-lg",headerClassName:"hover:bg-green-50",children:(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsx)("div",{className:"border border-gray-200 rounded-lg overflow-hidden",children:(0,t.jsx)(l.Z,{id:"benefits-editor",value:H.benefits,onChange:e=>eu("benefits",e),height:300,placeholder:"Jelaskan keunggulan dan manfaat produk... Contoh: ✓ Tahan air ✓ Mudah dipasang ✓ Berkualitas tinggi"})}),H.benefits&&(0,t.jsxs)("div",{className:"flex items-center justify-between text-xs text-gray-500",children:[(0,t.jsxs)("span",{children:[H.benefits.replace(/<[^>]*>/g,"").length," karakter"]}),(0,t.jsx)("span",{className:"text-green-600",children:H.benefits!==(D?.benefits||"")?"• Diubah":"• Tersimpan"})]}),!H.benefits&&(0,t.jsxs)("div",{className:"text-center py-8 text-gray-400",children:[(0,t.jsx)(w.Z,{className:"w-12 h-12 mx-auto mb-2 opacity-50"}),(0,t.jsx)("p",{className:"text-sm",children:"Belum ada keunggulan & manfaat"})]}),(0,t.jsxs)("div",{className:"bg-green-50 border border-green-200 rounded-lg p-3",children:[(0,t.jsx)("h4",{className:"text-sm font-medium text-green-800 mb-2",children:"\uD83D\uDCA1 Tips menulis keunggulan:"}),(0,t.jsxs)("ul",{className:"text-xs text-green-700 space-y-1",children:[(0,t.jsx)("li",{children:"• Gunakan bullet points (✓, •, ★) untuk memudahkan pembacaan"}),(0,t.jsx)("li",{children:"• Fokus pada manfaat untuk customer, bukan hanya fitur"}),(0,t.jsx)("li",{children:"• Sertakan keunggulan dibanding kompetitor"}),(0,t.jsx)("li",{children:'• Gunakan kata-kata yang meyakinkan seperti "tahan lama", "berkualitas"'})]})]})]})}),(0,t.jsx)(d.Z,{title:"SEO & Meta Data",subtitle:"Optimasi untuk mesin pencari dan media sosial",icon:(0,t.jsx)(_.Z,{className:"w-5 h-5 text-indigo-600"}),defaultOpen:!1,className:"transition-all duration-300 hover:shadow-lg",headerClassName:"hover:bg-indigo-50",children:(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Meta Title"}),(0,t.jsx)("input",{type:"text",value:H.meta_title,onChange:e=>eu("meta_title",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",placeholder:"Otomatis berdasarkan nama produk jika kosong"}),(0,t.jsxs)("div",{className:"mt-1 flex items-center justify-between text-xs",children:[(0,t.jsxs)("span",{className:`${H.meta_title.length>60?"text-red-600":H.meta_title.length>50?"text-yellow-600":"text-gray-500"}`,children:[H.meta_title.length,"/60 karakter"]}),(0,t.jsx)("span",{className:"text-gray-400",children:"Rekomendasi: 50-60 karakter"})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Meta Description"}),(0,t.jsx)("textarea",{value:H.meta_description,onChange:e=>eu("meta_description",e.target.value),rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",placeholder:"Otomatis berdasarkan deskripsi produk jika kosong"}),(0,t.jsxs)("div",{className:"mt-1 flex items-center justify-between text-xs",children:[(0,t.jsxs)("span",{className:`${H.meta_description.length>160?"text-red-600":H.meta_description.length>150?"text-yellow-600":"text-gray-500"}`,children:[H.meta_description.length,"/160 karakter"]}),(0,t.jsx)("span",{className:"text-gray-400",children:"Rekomendasi: 150-160 karakter"})]})]}),(H.meta_title||H.title)&&(0,t.jsxs)("div",{className:"bg-gray-50 border border-gray-200 rounded-lg p-4",children:[(0,t.jsx)("h4",{className:"text-sm font-medium text-gray-800 mb-2",children:"\uD83D\uDD0D Preview Google Search:"}),(0,t.jsxs)("div",{className:"space-y-1",children:[(0,t.jsx)("div",{className:"text-lg text-blue-600 hover:underline cursor-pointer",children:H.meta_title||`${H.title} - Seni Indah Gypsum`}),(0,t.jsxs)("div",{className:"text-sm text-green-700",children:["seniindah.co.id › produk › ",H.title.toLowerCase().replace(/\s+/g,"-")]}),(0,t.jsx)("div",{className:"text-sm text-gray-600",children:H.meta_description||(H.description?H.description.replace(/<[^>]*>/g,"").substring(0,150)+"...":`${H.title} berkualitas tinggi dari Seni Indah Gypsum. Produk terpercaya dengan garansi kualitas terjamin.`)})]})]}),(0,t.jsxs)("div",{className:"bg-indigo-50 border border-indigo-200 rounded-lg p-3",children:[(0,t.jsx)("h4",{className:"text-sm font-medium text-indigo-800 mb-2",children:"\uD83C\uDFAF Tips SEO:"}),(0,t.jsxs)("ul",{className:"text-xs text-indigo-700 space-y-1",children:[(0,t.jsx)("li",{children:"• Gunakan kata kunci utama di awal meta title"}),(0,t.jsx)("li",{children:"• Meta description harus meyakinkan dan mengundang klik"}),(0,t.jsx)("li",{children:"• Hindari keyword stuffing (pengulangan kata kunci berlebihan)"}),(0,t.jsx)("li",{children:"• Pastikan setiap produk memiliki meta data yang unik"})]})]})]})})]}),(0,t.jsx)(C,{isOpen:Q,onClose:()=>X(!1),onConfirm:eh,title:"Konfirmasi Simpan Perubahan",message:"Masukkan slug produk untuk mengkonfirmasi perubahan.",requiredSlug:D.slug,type:"warning"}),(0,t.jsx)(C,{isOpen:ee,onClose:()=>ea(!1),onConfirm:eb,title:"Konfirmasi Hapus Produk",message:"Masukkan slug produk untuk mengkonfirmasi penghapusan produk secara permanen.",requiredSlug:D.slug,type:"danger"}),(0,t.jsx)(Z,{isOpen:es,onClose:()=>et(!1),onConfirm:()=>{eg(0),et(!1)}})]})})}):(0,t.jsx)(n.Z,{requiredRole:"moderator",children:(0,t.jsx)("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)(g.Z,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),(0,t.jsx)("h2",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Produk Tidak Ditemukan"}),(0,t.jsx)("p",{className:"text-gray-600 mb-4",children:"Produk yang Anda cari tidak ditemukan atau sudah dihapus."}),(0,t.jsxs)(c.default,{href:"/dashboard/management/products",className:"inline-flex items-center px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:[(0,t.jsx)(x.Z,{className:"w-4 h-4 mr-2"}),"Kembali ke Daftar Produk"]})]})})})}}},function(e){e.O(0,[7138,8931,8369,4682,630,2971,3526,1744],function(){return e(e.s=9285)}),_N_E=e.O()}]);